<!DOCTYPE ejs>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8"/>
    <link rel="stylesheet" type="text/css" href="design.css">
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Process</title>

    <script>
        function showRows(database) {
            var rows = document.querySelectorAll("#database tr");
            var count = 1; 
    
            for (var i = 0; i < rows.length; i++) {
                var row = rows[i];
    
                if (row.id === "header") {
                    row.style.display = "table-row";
                    continue; 
                }
    
                row.style.display = "none"; 
    
                if (row.getAttribute("database") === database || database === "All") {
                    row.style.display = "table-row";
    
                    if (row.getAttribute("database") === database) {
                        row.cells[0].textContent = count;
                        count++;
                    } else if (database === "All") {
                        row.cells[0].textContent = count;
                        count++;
                    }
                }
            }
        }
    </script>

</head>
<body>
    <div class="container">
        <header class="header">
            <img src="logo.png" alt="Logo" height="100px">
            <h2>PROCESS</h2>
            <a href="/login/logout"><i class="fa fa-sign-out" aria-hidden="true"></i></a>
        </header>

        <aside class="sidenav">
            <div class="icon-container">
                <a href="/dashboard"><i class="fa fa-bar-chart" aria-hidden="true"></i><br>Dashboard</a>
                <a href="/img_process"><i class="fa fa-cogs" aria-hidden="true"></i><br>Process</a>               
                <a href="/database"><i class="fa fa-database" aria-hidden="true"></i><br>Database</a>
            </div>
        </aside>
    </div>
    <div class="table-container">
        <table id="region" class="table" style="width:85%">
            <thead>
                <tr>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <% data.forEach(record => { %>
                    <tr>
                        <td><%= record.sov %></td>
                        <td><%= record.date %></td>
                        <td><a href="/database"><i class="fa fa-times" style="color: red;" aria-hidden="true"></i></a></td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    </div>
   Â </body>
   <script>
        // Disable the back button
        history.pushState(null, null, location.href);
        window.onpopstate = function () {
            history.go(1);
        };
    </script>
</html>